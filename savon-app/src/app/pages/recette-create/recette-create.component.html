<div class="container">
    <h2>Calculateur de Recettes</h2>
    
    <div class="mb-3">
      <button type="button" class="btn btn-success" (click)="openIngredientModal()">
        + Ingrédient
      </button>
    </div>
    
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Nom Ingrédient</th>
            <th>Quantité Gramme</th>
            <th>Pourcentage</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ligne of selectedIngredients; let i = index">
            <td>{{ ligne.ingredient?.nom }}</td>
            <td>
              <input type="number" class="form-control"
                    name="quantite{{i}}" [(ngModel)]="ligne.quantite" min="0">
            </td>
            <td>
              <input type="number" class="form-control"
                    name="pourcentage{{i}}" [(ngModel)]="ligne.pourcentage" min="0" max="100">
            </td>
            <td>
              <button type="button" class="btn btn-danger btn-sm"
                      (click)="supprimerIngredient(i)">X</button>
            </td>
          </tr>
          <!-- Message si aucun ingrédient n'est sélectionné -->
          <tr *ngIf="selectedIngredients.length === 0">
            <td colspan="4" class="text-center">
              Aucun ingrédient sélectionné. Utilisez le bouton "+" pour ajouter des ingrédients.
            </td>
          </tr>
        </tbody>
        <!-- Ajout d'un pied de tableau pour les totaux (à implémenter dans la partie 2) -->
        <tfoot>
          <tr>
            <th>Total</th>
            <th><!-- Total quantité sera calculé dans la partie 2 --></th>
            <th><!-- Total pourcentage sera calculé dans la partie 2 --></th>
            <th></th>
          </tr>
        </tfoot>
      </table>
    </div>
    
    <!-- Boutons de validation et d'annulation -->
    <div class="mt-3">
      <button type="button" class="btn btn-primary me-2">
        Calculer
      </button>
      <button type="button" class="btn btn-secondary">
        Réinitialiser
      </button>
    </div>
  </div>